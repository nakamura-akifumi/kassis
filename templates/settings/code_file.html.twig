{% extends 'base.html.twig' %}

{% block title %}コード設定: インポート/エクスポート{% endblock %}

{% block body %}
<div class="container py-3">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <div>
            <h1 class="h4 mb-1">コード設定: インポート/エクスポート</h1>
            <p class="text-muted small mb-0">codeテーブルの出力と取り込みを行います。</p>
        </div>
        <div class="d-flex gap-2">
            <a class="btn btn-outline-secondary btn-sm" href="{{ path('app_settings_code') }}">戻る</a>
        </div>
    </div>

    <div class="card shadow-sm mb-3">
        <div class="card-header bg-white">
            <strong class="small">エクスポート</strong>
        </div>
        <div class="card-body py-2">
            <form method="get" action="{{ path('app_settings_code_export') }}" class="row g-2 align-items-end">
                <div class="col-md-3">
                    <label class="form-label small mb-1" for="code-export-format">形式</label>
                    <select class="form-select form-select-sm" id="code-export-format" name="format">
                        <option value="xlsx">Excel</option>
                        <option value="csv">CSV</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-outline-primary btn-sm w-100">エクスポート</button>
                </div>
            </form>
        </div>
    </div>

    <div class="card shadow-sm mb-3">
        <div class="card-header bg-white">
            <strong class="small">インポート</strong>
        </div>
        <div class="card-body py-2">
            <form class="row g-2 align-items-end" method="post" action="{{ path('app_settings_code_import') }}" enctype="multipart/form-data">
                <input type="hidden" name="_token" value="{{ csrf_token('code_import') }}">
                <div class="col-md-8">
                    <label class="form-label small mb-1" for="code-upload-file">ファイル（CSV / Excel）</label>
                    <input type="file" class="form-control form-control-sm" id="code-upload-file" name="uploadFile" accept=".csv,.xlsx" required>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-outline-primary btn-sm w-100">インポート</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
